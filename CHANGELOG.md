# 变更记录

本文档记录了项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- ✨ **STDIO服务器模式** - 新增STDIO接口支持，提供命令行工具集成能力
- ✨ **双模式架构** - 支持HTTP和STDIO两种运行模式，可根据场景选择
- ✨ **命令行参数扩展** - 新增`--stdio`和`--schema`参数支持模式选择
- ✨ **Schema隔离机制** - STDIO模式下仅初始化指定schema，优化资源使用
- ✨ **JSON-RPC 2.0完整支持** - STDIO模式完整实现MCP协议规范
- ✨ **应用架构重构** - 分离HTTP和STDIO应用逻辑，提升代码可维护性

### 改进
- 🚀 **性能优化** - STDIO模式提供更低延迟和更少资源占用
- 🛠️ **配置系统扩展** - 新增`cli.stdio`配置段支持STDIO模式配置
- 📚 **文档完善** - 更新README和API文档，添加STDIO模式使用指南
- 🔧 **开发工具** - 添加OpenSpec规范管理，规范化开发流程

### 修复
- 🐛 修复配置文件中schema初始化的边界情况
- 🐛 解决Windows平台下的进程管理问题
- 🐛 优化错误处理机制，提供更清晰的错误信息

### 计划中
- 接入SSE类型的MCP服务器还有问题

## [1.0.2] - 2025-01-10

### 修复
- 优化SSE类型MCP服务器连接处理
- 改进错误处理和日志记录
- 修复配置文件解析的边界情况

### 改进
- 增强服务器连接稳定性
- 优化内存使用
- 提升API响应性能

## [1.0.1] - 2025-01-10

### 修复
- 将默认主机地址从0.0.0.0改为127.0.0.1
- 禁止服务器ID包含分隔符并跳过无效配置
- 修复Windows下stdio类型服务器配置检测问题

### 重构
- 使用静态分隔符替换硬编码连接符

## [1.0.0] - 2025-01-09

### 新增
- 初始版本发布
- 支持HTTP和Stdio类型的MCP服务器
- 实现基本的MCP代理功能

### 技术栈
- Node.js + TypeScript
- Express.js
- JSON-RPC 2.0

---

## 版本号说明

本项目使用语义化版本号：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正